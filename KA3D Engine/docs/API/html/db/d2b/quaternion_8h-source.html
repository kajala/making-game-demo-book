<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Engine Core: quaternion.h Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.8-20040824 -->
<div class="qindex"><a class="qindex" href="../../index.html">Main&nbsp;Page</a> | <a class="qindex" href="../../modules.html">Modules</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a></div>
<h1>quaternion.h</h1><div class="fragment"><pre class="fragment">00001 <span class="preprocessor">#ifndef _MATH_QUATERNION_H</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define _MATH_QUATERNION_H</span>
00003 <span class="preprocessor"></span>
00004 
00005 <span class="preprocessor">#include &lt;math/float4.h&gt;</span>
00006 
00007 
00008 <span class="keyword">namespace </span>math
00009 {
00010 
00011 
00012 <span class="keyword">class </span>float3;
00013 <span class="keyword">class </span>float3x3;
00014 
00015 
<a name="l00025"></a><a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">00025</a> <span class="keyword">class </span><a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>
00026 {
00027 <span class="keyword">public</span>:
00028     <span class="keyword">enum</span>
00029     { 
00031         <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#w0w1">SIZE</a> = 4
00032     };
00033 
<a name="l00035"></a><a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#o0">00035</a>     <span class="keywordtype">float</span>       x MATH_ALIGN_128;
00036 
<a name="l00038"></a><a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#o2">00038</a>     <span class="keywordtype">float</span>       y;
00039 
<a name="l00041"></a><a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#o3">00041</a>     <span class="keywordtype">float</span>       z;
00042     
<a name="l00044"></a><a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#o1">00044</a>     <span class="keywordtype">float</span>       w;
00045 
00046 <span class="preprocessor">#ifdef _DEBUG</span>
00047 <span class="preprocessor"></span>
<a name="l00048"></a><a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a24">00048</a>     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a24">quaternion</a>()                                                                    {<a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#o1">w</a>=<a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#o3">z</a>=<a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#o2">y</a>=x=::sqrtf(-1.f);}
00049 <span class="preprocessor">#else</span>
00050 <span class="preprocessor"></span>    <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a24">quaternion</a>()                                                                    {}
00051 <span class="preprocessor">#endif</span>
00052 <span class="preprocessor"></span>    
00054     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a24">quaternion</a>( <span class="keywordtype">float</span> x0, <span class="keywordtype">float</span> y0, <span class="keywordtype">float</span> z0, <span class="keywordtype">float</span> w0 );
00055     
00057     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a24">quaternion</a>( <span class="keyword">const</span> float3&amp; axis, <span class="keywordtype">float</span> angle );
00058     
00060     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a24">quaternion</a>( <span class="keyword">const</span> float3x3&amp; rot );
00061 
<a name="l00063"></a><a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a14">00063</a>     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>&amp;     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a14">operator+=</a>( <span class="keyword">const</span> <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>&amp; other )                           {<span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0 ; i &lt; SIZE ; ++i ) (&amp;x)[i] += (&amp;other.x)[i]; <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
00064     
<a name="l00066"></a><a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a17">00066</a>     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>&amp;     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a17">operator-=</a>( <span class="keyword">const</span> <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>&amp; other )                           {<span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0 ; i &lt; SIZE ; ++i ) (&amp;x)[i] -= (&amp;other.x)[i]; <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
00067     
<a name="l00069"></a><a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a11">00069</a>     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>&amp;     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a11">operator*=</a>( <span class="keywordtype">float</span> s )                                           {<span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0 ; i &lt; SIZE ; ++i ) (&amp;x)[i] *= s; <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
00070     
<a name="l00072"></a><a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a10">00072</a>     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>&amp;     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a11">operator*=</a>( <span class="keyword">const</span> <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>&amp; other )                           {*<span class="keyword">this</span> = *<span class="keyword">this</span> * other; <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
00073 
<a name="l00075"></a><a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a5">00075</a>     <span class="keywordtype">float</span>           <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a5">norm</a>()<span class="keyword"> const                                                    </span>{return ::sqrtf( <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a7">normSquared</a>() );}
00076     
<a name="l00078"></a><a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a7">00078</a>     <span class="keywordtype">float</span>           <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a7">normSquared</a>()<span class="keyword"> const                                             </span>{<span class="keywordflow">return</span> <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a1">dot</a>(*<span class="keyword">this</span>);}
00079 
<a name="l00081"></a><a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a18">00081</a>     <span class="keywordtype">bool</span>            <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a18">operator==</a>( <span class="keyword">const</span> <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>&amp; other )<span class="keyword"> const                     </span>{<span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0 ; i &lt; SIZE ; ++i ) <span class="keywordflow">if</span> ( (&amp;x)[i] != (&amp;other.x)[i] ) <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="keywordflow">return</span> <span class="keyword">true</span>;}
00082     
<a name="l00084"></a><a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a12">00084</a>     <span class="keywordtype">bool</span>            <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a12">operator!=</a>( <span class="keyword">const</span> <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>&amp; other )<span class="keyword"> const                     </span>{<span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0 ; i &lt; SIZE ; ++i ) <span class="keywordflow">if</span> ( (&amp;x)[i] != (&amp;other.x)[i] ) <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="keywordflow">return</span> <span class="keyword">false</span>;}
00085 
<a name="l00087"></a><a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a13">00087</a>     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>      <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a13">operator+</a>( <span class="keyword">const</span> <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>&amp; other )<span class="keyword"> const                      </span>{<a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a> v; <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0 ; i &lt; SIZE ; ++i ) (&amp;v.x)[i] = (&amp;x)[i] + (&amp;other.x)[i]; <span class="keywordflow">return</span> v;}
00088     
<a name="l00090"></a><a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a16">00090</a>     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>      <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a15">operator-</a>( <span class="keyword">const</span> <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>&amp; other )<span class="keyword"> const                      </span>{<a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a> v; <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0 ; i &lt; SIZE ; ++i ) (&amp;v.x)[i] = (&amp;x)[i] - (&amp;other.x)[i]; <span class="keywordflow">return</span> v;}
00091     
<a name="l00093"></a><a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a15">00093</a>     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>      <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a15">operator-</a>()<span class="keyword"> const                                               </span>{<a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a> v; <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0 ; i &lt; SIZE ; ++i ) (&amp;v.x)[i] = -(&amp;x)[i]; <span class="keywordflow">return</span> v;}
00094     
<a name="l00096"></a><a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a1">00096</a>     <span class="keywordtype">float</span>           <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a1">dot</a>( <span class="keyword">const</span> <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>&amp; other )<span class="keyword"> const                            </span>{<span class="keywordtype">float</span> d = 0.f; <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0 ; i &lt; SIZE ; ++i ) d += (&amp;x)[i] * (&amp;other.x)[i]; <span class="keywordflow">return</span> d;}
00097     
<a name="l00099"></a><a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a9">00099</a>     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>      <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a9">operator*</a>( <span class="keywordtype">float</span> s )<span class="keyword"> const                                      </span>{<a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a> v; <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0 ; i &lt; SIZE ; ++i ) (&amp;v.x)[i] = (&amp;x)[i] * s; <span class="keywordflow">return</span> v;}
00100     
00102     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>      <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a9">operator*</a>( <span class="keyword">const</span> <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>&amp; other ) <span class="keyword">const</span>;
00103 
00105     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>      <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html#a6">normalize</a>() const;
00106 
00108     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>      conjugate() const;
00109 
00111     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>      inverse() const;
00112 
00114     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>      exp() const;
00115 
00117     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>      log() const;
00118 
00120     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>      pow( <span class="keywordtype">float</span> t ) const;
00121 
00129     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>      slerp( <span class="keywordtype">float</span> t, const <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>&amp; q ) const;
00130 
00141     <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>      squad( <span class="keywordtype">float</span> t, const <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>&amp; a, const <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>&amp; b, const <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>&amp; q ) const;
00142 };
00143 
00144 
00145 } <span class="comment">// math</span>
00146 
00147 
00148 #endif <span class="comment">// _MATH_QUATERNION_H</span>
00149 
00150 <span class="comment">// Copyright (C) 2005 Jani Kajala. All rights reserved. Consult your license regarding permissions and restrictions.</span>
</pre></div><br><br><small>Copyright (C) 2004 Jani Kajala. All rights reserved. Consult your license regarding permissions and restrictions.</small><br><br></body></html>
