<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Engine Core: VertexFormat.h Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.8-20040824 -->
<div class="qindex"><a class="qindex" href="../../index.html">Main&nbsp;Page</a> | <a class="qindex" href="../../modules.html">Modules</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a></div>
<h1>VertexFormat.h</h1><div class="fragment"><pre class="fragment">00001 <span class="preprocessor">#ifndef _GR_VERTEXFORMAT_H </span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define _GR_VERTEXFORMAT_H</span>
00003 <span class="preprocessor"></span>
00004 
00005 <span class="preprocessor">#include &lt;lang/String.h&gt;</span>
00006 <span class="preprocessor">#include &lt;stdint.h&gt;</span>
00007 
00008 
00009 <span class="keyword">namespace </span>math {
00010     <span class="keyword">class </span>float4;}
00011 
00012 
00013 <span class="keyword">namespace </span>gr
00014 {
00015 
00016 
<a name="l00021"></a><a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html">00021</a> <span class="keyword">class </span><a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html">VertexFormat</a>
00022 {
00023 <span class="keyword">public</span>:
00024     <span class="keyword">enum</span>
00025     {
00027         <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#w0w31">MAX_TEXCOORDS</a> = 4 
00028     };
00029 
<a name="l00033"></a><a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#w1">00033</a>     <span class="keyword">enum</span> <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#w1">DataFormat</a>
00034     {
00036         DF_NONE,
00038         DF_S_32,
00040         DF_S_16,
00042         DF_S_8,
00044         DF_V2_32,
00046         DF_V2_16,
00048         DF_V2_8,
00050         DF_V3_32,
00052         DF_V3_16,
00054         DF_V3_8,
00056         DF_V4_32,
00058         DF_V4_16,
00060         DF_V4_8,
00062         DF_V4_5,
00064         <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#w1w7">DF_SIZE</a>
00065     };
00066 
<a name="l00070"></a><a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#w2">00070</a>     <span class="keyword">enum</span> <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#w2">DataType</a>
00071     {
00073         DT_POSITION,
00075         DT_POSITIONT,
00077         DT_BONEWEIGHTS,
00079         DT_BONEINDICES,
00081         DT_NORMAL,
00083         DT_DIFFUSE,
00085         DT_SPECULAR,
00087         DT_TEX0,
00089         DT_TEX1,
00091         DT_TEX2,
00093         DT_TEX3,
00095         DT_TANGENT,
00097         <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#w2w24">DT_SIZE</a>
00098     };
00099 
00103     <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#a16">VertexFormat</a>();
00104 
00108     <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html">VertexFormat</a>&amp;   <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#a2">addPosition</a>( DataFormat df=DF_V3_32 );
00109 
00113     <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html">VertexFormat</a>&amp;   <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#a6">addTransformedPosition</a>( DataFormat df=DF_V4_32 );
00114 
00118     <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html">VertexFormat</a>&amp;   <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#a1">addNormal</a>( DataFormat df=DF_V3_32 );
00119     
00123     <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html">VertexFormat</a>&amp;   <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#a0">addDiffuse</a>( DataFormat df=DF_V4_8 );
00124     
00128     <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html">VertexFormat</a>&amp;   <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#a3">addSpecular</a>( DataFormat df=DF_V4_8 );
00129 
00133     <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html">VertexFormat</a>&amp;   <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#a4">addTangent</a>( DataFormat df=DF_V3_32 );
00134 
00143     <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html">VertexFormat</a>&amp;   <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#a7">addWeights</a>( DataFormat weightdf, DataFormat indexdf );
00144     
00148     <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html">VertexFormat</a>&amp;   <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#a5">addTextureCoordinate</a>( DataFormat df );
00149 
00153     <span class="keywordtype">void</span>            <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#a13">setDataFormat</a>( DataType dt, DataFormat x );
00154 
00158     <span class="keywordtype">int</span>             <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#a14">textureCoordinates</a>() const;
00159 
00163     DataFormat      getTextureCoordinateFormat( <span class="keywordtype">int</span> layer ) const;
00164 
00169     DataFormat      getDataFormat( DataType dt ) const;
00170 
<a name="l00174"></a><a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#a10">00174</a>     <span class="keywordtype">bool</span>            hasData( DataType dt )<span class="keyword"> const                </span>{<span class="keywordflow">return</span> <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#a8">getDataFormat</a>(dt) != DF_NONE;}
00175 
00180     <a class="code" href="../../da/d2e/classlang_1_1String.html">lang::String</a>    <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#a15">toString</a>() const;
00181 
00186     <span class="keywordtype">int</span>             vertexSize() const;
00187 
00191     <span class="keywordtype">bool</span>            operator==( const <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html">VertexFormat</a>&amp; other ) const;
00192 
<a name="l00196"></a><a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#a11">00196</a>     <span class="keywordtype">bool</span>            operator!=( const <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html">VertexFormat</a>&amp; other )<span class="keyword"> const       </span>{<span class="keywordflow">return</span> !this-&gt;<a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#a12">operator==</a>(other);}
00197 
00201     <span class="keyword">static</span> <span class="keywordtype">int</span>      <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#e2">getDataDim</a>( DataFormat df );
00202 
00206     <span class="keyword">static</span> <span class="keywordtype">int</span>      <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#e4">getDataSize</a>( DataFormat df );
00207 
00212     <span class="keyword">static</span> <span class="keywordtype">int</span>      <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#e4">getDataSize</a>( DataFormat df, <span class="keywordtype">int</span> n );
00213 
00219     <span class="keyword">static</span> <span class="keywordtype">void</span>     <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#e1">getData</a>( DataFormat df, <span class="keyword">const</span> <span class="keywordtype">void</span>* data, <a class="code" href="../../df/d1d/classmath_1_1float4.html">math::float4</a>* out );
00220 
00224     <span class="keyword">static</span> <span class="keywordtype">void</span>     <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#e5">setData</a>( DataFormat df, <span class="keywordtype">void</span>* data, <span class="keyword">const</span> <a class="code" href="../../df/d1d/classmath_1_1float4.html">math::float4</a>&amp; v );
00225 
00229     <span class="keyword">static</span> <span class="keywordtype">void</span>     <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#e0">copyData</a>(
00230                         <span class="keywordtype">void</span>* ddata, <span class="keywordtype">int</span> dpitch, DataFormat df,
00231                         <span class="keyword">const</span> <span class="keywordtype">void</span>* sdata, <span class="keywordtype">int</span> spitch, DataFormat sf, 
00232                         <span class="keyword">const</span> <a class="code" href="../../df/d1d/classmath_1_1float4.html">math::float4</a>&amp; sscale, <span class="keyword">const</span> <a class="code" href="../../df/d1d/classmath_1_1float4.html">math::float4</a>&amp; sbias,
00233                         <span class="keywordtype">int</span> count );
00234 
00238     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>*  <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#a15">toString</a>( DataFormat df );
00239 
00243     <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>*  <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#a15">toString</a>( DataType dt );
00244 
00249     <span class="keyword">static</span> DataFormat   <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#e6">toDataFormat</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* str );
00250 
00255     <span class="keyword">static</span> DataType     <a class="code" href="../../d0/dac/classgr_1_1VertexFormat.html#e7">toDataType</a>( <span class="keyword">const</span> <span class="keywordtype">char</span>* str );
00256 
00257 <span class="keyword">private</span>:
00258     uint8_t m_data[7];
00259 };
00260 
00261 
00262 } <span class="comment">// gr</span>
00263 
00264 
00265 <span class="preprocessor">#endif // _GR_VERTEXFORMAT_H</span>
00266 <span class="preprocessor"></span>
00267 <span class="comment">// Copyright (C) 2005 Jani Kajala. All rights reserved. Consult your license regarding permissions and restrictions.</span>
</pre></div><br><br><small>Copyright (C) 2004 Jani Kajala. All rights reserved. Consult your license regarding permissions and restrictions.</small><br><br></body></html>
