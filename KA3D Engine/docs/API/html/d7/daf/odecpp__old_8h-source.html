<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Engine Core: odecpp_old.h Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.8-20040824 -->
<div class="qindex"><a class="qindex" href="../../index.html">Main&nbsp;Page</a> | <a class="qindex" href="../../modules.html">Modules</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a></div>
<h1>odecpp_old.h</h1><div class="fragment"><pre class="fragment">00001 <span class="comment">/*************************************************************************</span>
00002 <span class="comment"> *                                                                       *</span>
00003 <span class="comment"> * Open Dynamics Engine, Copyright (C) 2001,2002 Russell L. Smith.       *</span>
00004 <span class="comment"> * All rights reserved.  Email: russ@q12.org   Web: www.q12.org          *</span>
00005 <span class="comment"> *                                                                       *</span>
00006 <span class="comment"> * This library is free software; you can redistribute it and/or         *</span>
00007 <span class="comment"> * modify it under the terms of EITHER:                                  *</span>
00008 <span class="comment"> *   (1) The GNU Lesser General Public License as published by the Free  *</span>
00009 <span class="comment"> *       Software Foundation; either version 2.1 of the License, or (at  *</span>
00010 <span class="comment"> *       your option) any later version. The text of the GNU Lesser      *</span>
00011 <span class="comment"> *       General Public License is included with this library in the     *</span>
00012 <span class="comment"> *       file LICENSE.TXT.                                               *</span>
00013 <span class="comment"> *   (2) The BSD-style license that is included with this library in     *</span>
00014 <span class="comment"> *       the file LICENSE-BSD.TXT.                                       *</span>
00015 <span class="comment"> *                                                                       *</span>
00016 <span class="comment"> * This library is distributed in the hope that it will be useful,       *</span>
00017 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of        *</span>
00018 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the files    *</span>
00019 <span class="comment"> * LICENSE.TXT and LICENSE-BSD.TXT for more details.                     *</span>
00020 <span class="comment"> *                                                                       *</span>
00021 <span class="comment"> *************************************************************************/</span>
00022 
00023 <span class="comment">/* this is the old C++ interface, the new C++ interface is not quite</span>
00024 <span class="comment"> * compatible with this. but this file is kept around in case you were</span>
00025 <span class="comment"> * using the old interface.</span>
00026 <span class="comment"> */</span>
00027 
00028 <span class="preprocessor">#ifndef _ODE_ODECPP_H_</span>
00029 <span class="preprocessor"></span><span class="preprocessor">#define _ODE_ODECPP_H_</span>
00030 <span class="preprocessor"></span><span class="preprocessor">#ifdef __cplusplus</span>
00031 <span class="preprocessor"></span>
00032 <span class="preprocessor">#include &lt;ode/error.h&gt;</span>
00033 
00034 
00035 <span class="keyword">class </span>dWorld {
00036   dWorldID _id;
00037 
00038   dWorld (dWorld &amp;) { dDebug (0,<span class="stringliteral">"bad"</span>); }
00039   <span class="keywordtype">void</span> operator= (dWorld &amp;) { dDebug (0,<span class="stringliteral">"bad"</span>); }
00040 
00041 <span class="keyword">public</span>:
00042   dWorld()
00043     { _id = dWorldCreate(); }
00044   ~dWorld()
00045     { dWorldDestroy (_id); }
00046   dWorldID id()
00047     { <span class="keywordflow">return</span> _id; }
00048 
00049   <span class="keywordtype">void</span> setGravity (dReal x, dReal y, dReal z)
00050     { dWorldSetGravity (_id,x,y,z); }
00051   <span class="keywordtype">void</span> getGravity (dVector3 g)
00052     { dWorldGetGravity (_id,g); }
00053   <span class="keywordtype">void</span> step (dReal stepsize)
00054     { dWorldStep (_id,stepsize); }
00055 };
00056 
00057 
00058 <span class="keyword">class </span>dBody {
00059   dBodyID _id;
00060 
00061   dBody (dBody &amp;) { dDebug (0,<span class="stringliteral">"bad"</span>); }
00062   <span class="keywordtype">void</span> operator= (dBody &amp;) { dDebug (0,<span class="stringliteral">"bad"</span>); }
00063 
00064 <span class="keyword">public</span>:
00065   dBody()
00066     { _id = 0; }
00067   dBody (dWorld &amp;world)
00068     { _id = dBodyCreate (world.id()); }
00069   ~dBody()
00070     { dBodyDestroy (_id); }
00071   <span class="keywordtype">void</span> create (dWorld &amp;world)
00072     { <span class="keywordflow">if</span> (_id) dBodyDestroy (_id); _id = dBodyCreate (world.id()); }
00073   dBodyID id()
00074     { <span class="keywordflow">return</span> _id; }
00075 
00076   <span class="keywordtype">void</span> setData (<span class="keywordtype">void</span> *data)
00077     { dBodySetData (_id,data); }
00078   <span class="keywordtype">void</span> *getData()
00079     { <span class="keywordflow">return</span> dBodyGetData (_id); }
00080 
00081   <span class="keywordtype">void</span> setPosition (dReal x, dReal y, dReal z)
00082     { dBodySetPosition (_id,x,y,z); }
00083   <span class="keywordtype">void</span> setRotation (<span class="keyword">const</span> dMatrix3 R)
00084     { dBodySetRotation (_id,R); }
00085   <span class="keywordtype">void</span> setQuaternion (<span class="keyword">const</span> dQuaternion q)
00086     { dBodySetQuaternion (_id,q); }
00087   <span class="keywordtype">void</span> setLinearVel  (dReal x, dReal y, dReal z)
00088     { dBodySetLinearVel (_id,x,y,z); }
00089   <span class="keywordtype">void</span> setAngularVel (dReal x, dReal y, dReal z)
00090     { dBodySetAngularVel (_id,x,y,z); }
00091 
00092   <span class="keyword">const</span> dReal * getPosition()
00093     { <span class="keywordflow">return</span> dBodyGetPosition (_id); }
00094   <span class="keyword">const</span> dReal * getRotation()
00095     { <span class="keywordflow">return</span> dBodyGetRotation (_id); }
00096   <span class="keyword">const</span> dReal * getQuaternion()
00097     { <span class="keywordflow">return</span> dBodyGetQuaternion (_id); }
00098   <span class="keyword">const</span> dReal * getLinearVel()
00099     { <span class="keywordflow">return</span> dBodyGetLinearVel (_id); }
00100   <span class="keyword">const</span> dReal * getAngularVel()
00101     { <span class="keywordflow">return</span> dBodyGetAngularVel (_id); }
00102 
00103   <span class="keywordtype">void</span> setMass (<span class="keyword">const</span> dMass *mass)
00104     { dBodySetMass (_id,mass); }
00105   <span class="keywordtype">void</span> getMass (dMass *mass)
00106     { dBodyGetMass (_id,mass); }
00107 
00108   <span class="keywordtype">void</span> addForce (dReal fx, dReal fy, dReal fz)
00109     { dBodyAddForce (_id, fx, fy, fz); }
00110   <span class="keywordtype">void</span> addTorque (dReal fx, dReal fy, dReal fz)
00111     { dBodyAddTorque (_id, fx, fy, fz); }
00112   <span class="keywordtype">void</span> addRelForce (dReal fx, dReal fy, dReal fz)
00113     { dBodyAddRelForce (_id, fx, fy, fz); }
00114   <span class="keywordtype">void</span> addRelTorque (dReal fx, dReal fy, dReal fz)
00115     { dBodyAddRelTorque (_id, fx, fy, fz); }
00116   <span class="keywordtype">void</span> addForceAtPos (dReal fx, dReal fy, dReal fz,
00117               dReal px, dReal py, dReal pz)
00118     { dBodyAddForceAtPos (_id, fx, fy, fz, px, py, pz); }
00119   <span class="keywordtype">void</span> addRelForceAtPos (dReal fx, dReal fy, dReal fz,
00120              dReal px, dReal py, dReal pz)
00121     { dBodyAddRelForceAtPos (_id, fx, fy, fz, px, py, pz); }
00122   <span class="keywordtype">void</span> addRelForceAtRelPos (dReal fx, dReal fy, dReal fz,
00123                 dReal px, dReal py, dReal pz)
00124     { dBodyAddRelForceAtRelPos (_id, fx, fy, fz, px, py, pz); }
00125 
00126   <span class="keywordtype">void</span> getRelPointPos (dReal px, dReal py, dReal pz, dVector3 result)
00127     { dBodyGetRelPointPos (_id, px, py, pz, result); }
00128   <span class="keywordtype">void</span> getRelPointVel (dReal px, dReal py, dReal pz, dVector3 result)
00129     { dBodyGetRelPointVel (_id, px, py, pz, result); }
00130 
00131   <span class="keywordtype">int</span> isConnectedTo (<span class="keyword">const</span> dBody &amp;b)
00132     { <span class="keywordflow">return</span> dAreConnected (_id,b._id); }
00133 };
00134 
00135 
00136 <span class="keyword">class </span>dJointGroup {
00137   dJointGroupID _id;
00138 
00139   dJointGroup (dJointGroup &amp;) { dDebug (0,<span class="stringliteral">"bad"</span>); }
00140   <span class="keywordtype">void</span> operator= (dJointGroup &amp;) { dDebug (0,<span class="stringliteral">"bad"</span>); }
00141 
00142 <span class="keyword">public</span>:
00143   dJointGroup()
00144     { _id = 0; }
00145   dJointGroup (<span class="keywordtype">int</span> max_size)
00146     { _id = dJointGroupCreate (max_size); }
00147   ~dJointGroup()
00148     { dJointGroupDestroy (_id); }
00149   <span class="keywordtype">void</span> create (<span class="keywordtype">int</span> max_size)
00150     { <span class="keywordflow">if</span> (_id) dJointGroupDestroy (_id); _id = dJointGroupCreate (max_size); }
00151   dJointGroupID id()
00152     { <span class="keywordflow">return</span> _id; }
00153 
00154   <span class="keywordtype">void</span> empty()
00155     { dJointGroupEmpty (_id); }
00156 };
00157 
00158 
00159 <span class="keyword">class </span>dJoint {
00160   dJointID _id;
00161 
00162   dJoint (dJoint &amp;) { dDebug (0,<span class="stringliteral">"bad"</span>); }
00163   <span class="keywordtype">void</span> operator= (dJoint &amp;) { dDebug (0,<span class="stringliteral">"bad"</span>); }
00164 
00165 <span class="keyword">public</span>:
00166   dJoint()
00167     { _id = 0; }
00168   ~dJoint()
00169     { dJointDestroy (_id); }
00170   dJointID id()
00171     { <span class="keywordflow">return</span> _id; }
00172 
00173   <span class="keywordtype">void</span> createBall (dWorld &amp;world, dJointGroup *group=0) {
00174     <span class="keywordflow">if</span> (_id) dJointDestroy (_id);
00175     _id = dJointCreateBall (world.id(), group ? group-&gt;id() : 0);
00176   }
00177   <span class="keywordtype">void</span> createHinge (dWorld &amp;world, dJointGroup *group=0) {
00178     <span class="keywordflow">if</span> (_id) dJointDestroy (_id);
00179     _id = dJointCreateHinge (world.id(), group ? group-&gt;id() : 0);
00180   }
00181   <span class="keywordtype">void</span> createSlider (dWorld &amp;world, dJointGroup *group=0) {
00182     <span class="keywordflow">if</span> (_id) dJointDestroy (_id);
00183     _id = dJointCreateSlider (world.id(), group ? group-&gt;id() : 0);
00184   }
00185   <span class="keywordtype">void</span> createContact (dWorld &amp;world, dJointGroup *group, dContact *contact) {
00186     <span class="keywordflow">if</span> (_id) dJointDestroy (_id);
00187     _id = dJointCreateContact (world.id(), group ? group-&gt;id() : 0, contact);
00188   }
00189 
00190   <span class="keywordtype">void</span> attach (dBody &amp;body1, dBody &amp;body2)
00191     { dJointAttach (_id, body1.id(), body2.id()); }
00192 
00193   <span class="keywordtype">void</span> setBallAnchor (dReal x, dReal y, dReal z)
00194     { dJointSetBallAnchor (_id, x, y, z); }
00195   <span class="keywordtype">void</span> setHingeAnchor (dReal x, dReal y, dReal z)
00196     { dJointSetHingeAnchor (_id, x, y, z); }
00197 
00198   <span class="keywordtype">void</span> setHingeAxis (dReal x, dReal y, dReal z)
00199     { dJointSetHingeAxis (_id, x, y, z); }
00200   <span class="keywordtype">void</span> setSliderAxis (dReal x, dReal y, dReal z)
00201     { dJointSetSliderAxis (_id, x, y, z); }
00202 
00203   <span class="keywordtype">void</span> getBallAnchor (dVector3 result)
00204     { dJointGetBallAnchor (_id, result); }
00205   <span class="keywordtype">void</span> getHingeAnchor (dVector3 result)
00206     { dJointGetHingeAnchor (_id, result); }
00207 
00208   <span class="keywordtype">void</span> getHingeAxis (dVector3 result)
00209     { dJointGetHingeAxis (_id, result); }
00210   <span class="keywordtype">void</span> getSliderAxis (dVector3 result)
00211     { dJointGetSliderAxis (_id, result); }
00212 };
00213 
00214 
00215 <span class="keyword">class </span>dSpace {
00216   dSpaceID _id;
00217 
00218   dSpace (dSpace &amp;) { dDebug (0,<span class="stringliteral">"bad"</span>); }
00219   <span class="keywordtype">void</span> operator= (dSpace &amp;) { dDebug (0,<span class="stringliteral">"bad"</span>); }
00220 
00221 <span class="keyword">public</span>:
00222   dSpace ()
00223     { _id = dHashSpaceCreate(); }
00224   ~dSpace()
00225     { dSpaceDestroy (_id); }
00226   dSpaceID id()
00227     { <span class="keywordflow">return</span> _id; }
00228   <span class="keywordtype">void</span> collide (<span class="keywordtype">void</span> *data, dNearCallback *callback)
00229     { dSpaceCollide (_id,data,callback); }
00230 };
00231 
00232 
00233 <span class="keyword">class </span>dGeom {
00234   dGeomID _id;
00235 
00236   dGeom (dGeom &amp;) { dDebug (0,<span class="stringliteral">"bad"</span>); }
00237   <span class="keywordtype">void</span> operator= (dGeom &amp;) { dDebug (0,<span class="stringliteral">"bad"</span>); }
00238 
00239 <span class="keyword">public</span>:
00240   dGeom()
00241     { _id = 0; }
00242   ~dGeom()
00243     { dGeomDestroy (_id); }
00244   dGeomID id()
00245     { <span class="keywordflow">return</span> _id; }
00246 
00247   <span class="keywordtype">void</span> createSphere (dSpace &amp;space, dReal radius) {
00248     <span class="keywordflow">if</span> (_id) dGeomDestroy (_id);
00249     _id = dCreateSphere (space.id(),radius);
00250   }
00251 
00252   <span class="keywordtype">void</span> createBox (dSpace &amp;space, dReal lx, dReal ly, dReal lz) {
00253     <span class="keywordflow">if</span> (_id) dGeomDestroy (_id);
00254     _id = dCreateBox (space.id(),lx,ly,lz);
00255   }
00256 
00257   <span class="keywordtype">void</span> createPlane (dSpace &amp;space, dReal a, dReal b, dReal c, dReal d) {
00258     <span class="keywordflow">if</span> (_id) dGeomDestroy (_id);
00259     _id = dCreatePlane (space.id(),a,b,c,d);
00260   }
00261 
00262   <span class="keywordtype">void</span> createCCylinder (dSpace &amp;space, dReal radius, dReal length) {
00263     <span class="keywordflow">if</span> (_id) dGeomDestroy (_id);
00264     _id = dCreateCCylinder (space.id(),radius,length);
00265   }
00266 
00267   <span class="keywordtype">void</span> destroy() {
00268     <span class="keywordflow">if</span> (_id) dGeomDestroy (_id);
00269     _id = 0;
00270   }
00271 
00272   <span class="keywordtype">int</span> getClass()
00273     { <span class="keywordflow">return</span> dGeomGetClass (_id); }
00274 
00275   dReal sphereGetRadius()
00276     { <span class="keywordflow">return</span> dGeomSphereGetRadius (_id); }
00277 
00278   <span class="keywordtype">void</span> boxGetLengths (dVector3 result)
00279     { dGeomBoxGetLengths (_id,result); }
00280 
00281   <span class="keywordtype">void</span> planeGetParams (dVector4 result)
00282     { dGeomPlaneGetParams (_id,result); }
00283 
00284   <span class="keywordtype">void</span> CCylinderGetParams (dReal *radius, dReal *length)
00285     { dGeomCCylinderGetParams (_id,radius,length); }
00286 
00287   <span class="keywordtype">void</span> setData (<span class="keywordtype">void</span> *data)
00288     { dGeomSetData (_id,data); }
00289 
00290   <span class="keywordtype">void</span> *getData()
00291     { <span class="keywordflow">return</span> dGeomGetData (_id); }
00292 
00293   <span class="keywordtype">void</span> setBody (dBody &amp;b)
00294     { dGeomSetBody (_id,b.id()); }
00295   <span class="keywordtype">void</span> setBody (dBodyID b)
00296     { dGeomSetBody (_id,b); }
00297 
00298   dBodyID getBody()
00299     { <span class="keywordflow">return</span> dGeomGetBody (_id); }
00300 
00301   <span class="keywordtype">void</span> setPosition (dReal x, dReal y, dReal z)
00302     { dGeomSetPosition (_id,x,y,z); }
00303 
00304   <span class="keywordtype">void</span> setRotation (<span class="keyword">const</span> dMatrix3 R)
00305     { dGeomSetRotation (_id,R); }
00306 
00307   <span class="keyword">const</span> dReal * getPosition()
00308     { <span class="keywordflow">return</span> dGeomGetPosition (_id); }
00309 
00310   <span class="keyword">const</span> dReal * getRotation()
00311     { <span class="keywordflow">return</span> dGeomGetRotation (_id); }
00312 };
00313 
00314 
00315 <span class="preprocessor">#endif</span>
00316 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
</pre></div><br><br><small>Copyright (C) 2004 Jani Kajala. All rights reserved. Consult your license regarding permissions and restrictions.</small><br><br></body></html>
