<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Engine Core: Ptr.h Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.8-20040824 -->
<div class="qindex"><a class="qindex" href="../../index.html">Main&nbsp;Page</a> | <a class="qindex" href="../../modules.html">Modules</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a></div>
<h1>Ptr.h</h1><div class="fragment"><pre class="fragment">00001 <span class="preprocessor">#ifndef _LANG_PTR_H</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define _LANG_PTR_H</span>
00003 <span class="preprocessor"></span>
00004 
00005 <span class="keyword">namespace </span>lang
00006 {
00007 
00008 
<a name="l00016"></a><a class="code" href="../../d2/d9d/classlang_1_1Ptr.html">00016</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; <span class="keyword">class </span><a class="code" href="../../d2/d9d/classlang_1_1Ptr.html">Ptr</a>
00017 {
00018 <span class="keyword">public</span>:
<a name="l00020"></a><a class="code" href="../../d2/d9d/classlang_1_1Ptr.html#a7">00020</a>     <a class="code" href="../../d2/d9d/classlang_1_1Ptr.html#a7">Ptr</a>()                                                   {m_o = 0;}
00021 
<a name="l00023"></a><a class="code" href="../../d2/d9d/classlang_1_1Ptr.html#a8">00023</a>     <a class="code" href="../../d2/d9d/classlang_1_1Ptr.html#a8">~Ptr</a>()                                                  {<span class="keywordflow">if</span> ( m_o ) m_o-&gt;release();}
00024 
<a name="l00026"></a><a class="code" href="../../d2/d9d/classlang_1_1Ptr.html#a6">00026</a>     <a class="code" href="../../d2/d9d/classlang_1_1Ptr.html#a7">Ptr</a>( <span class="keyword">const</span> <a class="code" href="../../d2/d9d/classlang_1_1Ptr.html">Ptr&lt;T&gt;</a>&amp; other )                              {T* o = other.<a class="code" href="../../d2/d9d/classlang_1_1Ptr.html#a4">ptr</a>(); <span class="keywordflow">if</span> ( o ) o-&gt;addReference(); m_o = o;}
00027 
<a name="l00029"></a><a class="code" href="../../d2/d9d/classlang_1_1Ptr.html#a5">00029</a>     <a class="code" href="../../d2/d9d/classlang_1_1Ptr.html#a7">Ptr</a>( T* other )                                         {<span class="keywordflow">if</span> ( other ) other-&gt;addReference(); m_o = other;}
00030 
<a name="l00035"></a><a class="code" href="../../d2/d9d/classlang_1_1Ptr.html#a3">00035</a>     <a class="code" href="../../d2/d9d/classlang_1_1Ptr.html">Ptr&lt;T&gt;</a>&amp; <a class="code" href="../../d2/d9d/classlang_1_1Ptr.html#a3">operator=</a>( <span class="keyword">const</span> <a class="code" href="../../d2/d9d/classlang_1_1Ptr.html">Ptr&lt;T&gt;</a>&amp; other )                {T* o = other.<a class="code" href="../../d2/d9d/classlang_1_1Ptr.html#a4">ptr</a>(); <span class="keywordflow">if</span> ( o ) o-&gt;addReference(); <span class="keywordflow">if</span> ( m_o ) m_o-&gt;release(); m_o = o; <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
00036 
<a name="l00038"></a><a class="code" href="../../d2/d9d/classlang_1_1Ptr.html#a0">00038</a>     T&amp;      <a class="code" href="../../d2/d9d/classlang_1_1Ptr.html#a0">operator*</a>()<span class="keyword"> const                               </span>{<span class="keywordflow">return</span> *m_o;}
00039 
<a name="l00041"></a><a class="code" href="../../d2/d9d/classlang_1_1Ptr.html#a2">00041</a>     T*      <a class="code" href="../../d2/d9d/classlang_1_1Ptr.html#a2">operator-&gt;</a>()<span class="keyword"> const                              </span>{<span class="keywordflow">return</span> m_o;}
00042 
<a name="l00044"></a><a class="code" href="../../d2/d9d/classlang_1_1Ptr.html#a1">00044</a>     <a class="code" href="../../d2/d9d/classlang_1_1Ptr.html#a1">operator T*</a>()<span class="keyword"> const                                     </span>{<span class="keywordflow">return</span> m_o;}
00045 
<a name="l00047"></a><a class="code" href="../../d2/d9d/classlang_1_1Ptr.html#a4">00047</a>     T*      <a class="code" href="../../d2/d9d/classlang_1_1Ptr.html#a4">ptr</a>()<span class="keyword"> const                                     </span>{<span class="keywordflow">return</span> m_o;}
00048 
00049 <span class="keyword">private</span>:
00050     T* m_o;
00051 };
00052 
00053 
00054 } <span class="comment">// lang</span>
00055 
00056 
00058 <span class="preprocessor">#define P( MYCLASS ) lang::Ptr&lt; MYCLASS &gt;</span>
00059 <span class="preprocessor"></span>
00060 
00061 <span class="preprocessor">#endif // _LANG_PTR_H</span>
00062 <span class="preprocessor"></span>
00063 <span class="comment">// Copyright (C) 2005 Jani Kajala. All rights reserved. Consult your license regarding permissions and restrictions.</span>
</pre></div><br><br><small>Copyright (C) 2004 Jani Kajala. All rights reserved. Consult your license regarding permissions and restrictions.</small><br><br></body></html>
