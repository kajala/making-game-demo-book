<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Engine Core: float3x4.h Source File</title>
<link href="../../doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.8-20040824 -->
<div class="qindex"><a class="qindex" href="../../index.html">Main&nbsp;Page</a> | <a class="qindex" href="../../modules.html">Modules</a> | <a class="qindex" href="../../hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="../../classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="../../annotated.html">Class&nbsp;List</a> | <a class="qindex" href="../../files.html">File&nbsp;List</a> | <a class="qindex" href="../../functions.html">Class&nbsp;Members</a></div>
<h1>float3x4.h</h1><div class="fragment"><pre class="fragment">00001 <span class="preprocessor">#ifndef _MATH_MATRIX3X4_H</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define _MATH_MATRIX3X4_H</span>
00003 <span class="preprocessor"></span>
00004 
00005 <span class="preprocessor">#include &lt;math/float4.h&gt;</span>
00006 <span class="preprocessor">#include &lt;math/float3x3.h&gt;</span>
00007 <span class="preprocessor">#include &lt;lang/assert.h&gt;</span>
00008 
00009 
00010 <span class="keyword">namespace </span>math
00011 {
00012 
00013 
00014 <span class="keyword">class </span>quaternion;
00015 
00016 
<a name="l00024"></a><a class="code" href="../../d0/d45/classmath_1_1float3x4.html">00024</a> <span class="keyword">class </span><a class="code" href="../../d0/d45/classmath_1_1float3x4.html">float3x4</a>
00025 {
00026 <span class="keyword">public</span>:
00027     <span class="keyword">enum</span>
00028     { 
00030         <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#w0w2">ROWS</a>    = 3, 
00032         <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#w0w1">COLUMNS</a> = 4, 
00033     };
00034 
00035 <span class="preprocessor">#ifdef _DEBUG</span>
00036 <span class="preprocessor"></span>
<a name="l00037"></a><a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a8">00037</a>     <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a8">float3x4</a>()                                                                      {<span class="keywordtype">float</span> v = ::sqrtf(-1.f); <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0 ; i &lt; ROWS ; ++i ) <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j = 0 ; j &lt; COLUMNS ; ++j ) m[i][j] = v;}
00038 <span class="preprocessor">#else</span>
00039 <span class="preprocessor"></span>    <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a8">float3x4</a>()                                                                      {}
00040 <span class="preprocessor">#endif</span>
00041 <span class="preprocessor"></span>        
00043     <span class="keyword">explicit</span> <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a8">float3x4</a>( <span class="keywordtype">float</span> diagonal );
00044 
00046     <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a8">float3x4</a>( <span class="keyword">const</span> float3x3&amp; rot, <span class="keyword">const</span> float3&amp; translation );
00047 
00049     <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a8">float3x4</a>( <span class="keyword">const</span> float3x3&amp; rot, <span class="keyword">const</span> float3&amp; translation, <span class="keyword">const</span> float3&amp; scale );
00050 
00052     <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a8">float3x4</a>( <span class="keyword">const</span> quaternion&amp; q, <span class="keyword">const</span> float3&amp; translation );
00053 
00055     <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a8">float3x4</a>( <span class="keyword">const</span> quaternion&amp; q, <span class="keyword">const</span> float3&amp; translation, <span class="keyword">const</span> float3&amp; scale );
00056 
<a name="l00058"></a><a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a22">00058</a>     <a class="code" href="../../d0/d45/classmath_1_1float3x4.html">float3x4</a>&amp;       <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a22">operator+=</a>( <span class="keyword">const</span> <a class="code" href="../../d0/d45/classmath_1_1float3x4.html">float3x4</a>&amp; other )                         {<span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0 ; i &lt; ROWS ; ++i ) <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j = 0 ; j &lt; COLUMNS ; ++j ) m[i][j] += other.m[i][j]; <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
00059     
<a name="l00061"></a><a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a25">00061</a>     <a class="code" href="../../d0/d45/classmath_1_1float3x4.html">float3x4</a>&amp;       <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a25">operator-=</a>( <span class="keyword">const</span> <a class="code" href="../../d0/d45/classmath_1_1float3x4.html">float3x4</a>&amp; other )                         {<span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0 ; i &lt; ROWS ; ++i ) <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j = 0 ; j &lt; COLUMNS ; ++j ) m[i][j] -= other.m[i][j]; <span class="keywordflow">return</span> *<span class="keyword">this</span>;}
00062 
<a name="l00064"></a><a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a31">00064</a>     <span class="keywordtype">void</span>            <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a31">setColumn</a>( <span class="keywordtype">int</span> i, <span class="keyword">const</span> <a class="code" href="../../d5/d00/classmath_1_1float3.html">float3</a>&amp; c )                         {assert(i&gt;=0&amp;&amp;i&lt;<a class="code" href="../../d0/d45/classmath_1_1float3x4.html#w0w1">COLUMNS</a>); m[0][i]=c[0]; m[1][i]=c[1]; m[2][i]=c[2];}
00065 
<a name="l00067"></a><a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a36">00067</a>     <span class="keywordtype">void</span>            <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a36">setRow</a>( <span class="keywordtype">int</span> i, <span class="keyword">const</span> <a class="code" href="../../df/d1d/classmath_1_1float4.html">float4</a>&amp; c )                                {assert(i&gt;=0&amp;&amp;i&lt;<a class="code" href="../../d0/d45/classmath_1_1float3x4.html#w0w2">ROWS</a>); m[i][0]=c[0]; m[i][1]=c[1]; m[i][2]=c[2]; m[i][3]=c[3];}
00068 
00070     <span class="keywordtype">void</span>            <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a35">setRotation</a>( <span class="keyword">const</span> <a class="code" href="../../db/d00/classmath_1_1float3x3.html">float3x3</a>&amp; rot );
00071 
00075     <span class="keywordtype">void</span>            <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a35">setRotation</a>( <span class="keyword">const</span> <a class="code" href="../../dc/ddd/classmath_1_1quaternion.html">quaternion</a>&amp; q );
00076 
00082     <span class="keywordtype">void</span>            <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a35">setRotation</a>( <span class="keyword">const</span> <a class="code" href="../../d5/d00/classmath_1_1float3.html">math::float3</a>&amp; axis, <span class="keywordtype">float</span> angle );
00083         
00085     <span class="keywordtype">void</span>            <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a37">setTranslation</a>( <span class="keyword">const</span> <a class="code" href="../../d5/d00/classmath_1_1float3.html">float3</a>&amp; t );
00086 
00091     <span class="keywordtype">void</span>            <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a32">setInverseOrthonormalTransform</a>( <span class="keyword">const</span> <a class="code" href="../../db/d00/classmath_1_1float3x3.html">float3x3</a>&amp; rot, <span class="keyword">const</span> <a class="code" href="../../d5/d00/classmath_1_1float3.html">float3</a>&amp; t );
00092 
<a name="l00094"></a><a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a20">00094</a>     <span class="keywordtype">float</span>&amp;          <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a20">operator()</a>( <span class="keywordtype">int</span> row, <span class="keywordtype">int</span> column )                               {assert(row&lt;<a class="code" href="../../d0/d45/classmath_1_1float3x4.html#w0w2">ROWS</a>&amp;&amp;column&lt;<a class="code" href="../../d0/d45/classmath_1_1float3x4.html#w0w1">COLUMNS</a>); <span class="keywordflow">return</span> m[row][column];}
00095 
<a name="l00097"></a><a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a17">00097</a>     <a class="code" href="../../d0/d45/classmath_1_1float3x4.html">float3x4</a>        <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a17">operator*</a>( <span class="keywordtype">float</span> s )<span class="keyword"> const                                      </span>{<a class="code" href="../../d0/d45/classmath_1_1float3x4.html">float3x4</a> a; <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0 ; i &lt; ROWS ; ++i ) <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j = 0 ; j &lt; COLUMNS ; ++j ) a.m[i][j] = m[i][j] * s; <span class="keywordflow">return</span> a;}
00098 
<a name="l00100"></a><a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a26">00100</a>     <span class="keywordtype">bool</span>            <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a26">operator==</a>( <span class="keyword">const</span> <a class="code" href="../../d0/d45/classmath_1_1float3x4.html">float3x4</a>&amp; other )<span class="keyword"> const                       </span>{<span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0 ; i &lt; ROWS ; ++i ) <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j = 0 ; j &lt; COLUMNS ; ++j ) <span class="keywordflow">if</span> ( m[i][j] != other.m[i][j] ) <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="keywordflow">return</span> <span class="keyword">true</span>;}
00101     
<a name="l00103"></a><a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a18">00103</a>     <span class="keywordtype">bool</span>            <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a18">operator!=</a>( <span class="keyword">const</span> <a class="code" href="../../d0/d45/classmath_1_1float3x4.html">float3x4</a>&amp; other )<span class="keyword"> const                       </span>{<span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0 ; i &lt; ROWS ; ++i ) <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j = 0 ; j &lt; COLUMNS ; ++j ) <span class="keywordflow">if</span> ( m[i][j] != other.m[i][j] ) <span class="keywordflow">return</span> <span class="keyword">true</span>; <span class="keywordflow">return</span> <span class="keyword">false</span>;}
00104 
00106     <a class="code" href="../../d0/d45/classmath_1_1float3x4.html">float3x4</a>        <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a17">operator*</a>( <span class="keyword">const</span> <a class="code" href="../../d0/d45/classmath_1_1float3x4.html">float3x4</a>&amp; other ) <span class="keyword">const</span>;
00107 
<a name="l00109"></a><a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a21">00109</a>     <a class="code" href="../../d0/d45/classmath_1_1float3x4.html">float3x4</a>        <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a21">operator+</a>( <span class="keyword">const</span> <a class="code" href="../../d0/d45/classmath_1_1float3x4.html">float3x4</a>&amp; other )<span class="keyword"> const                        </span>{<a class="code" href="../../d0/d45/classmath_1_1float3x4.html">float3x4</a> a; <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0 ; i &lt; ROWS ; ++i ) <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j = 0 ; j &lt; COLUMNS ; ++j ) a.m[i][j] = m[i][j] + other.m[i][j]; <span class="keywordflow">return</span> a;}
00110     
<a name="l00112"></a><a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a24">00112</a>     <a class="code" href="../../d0/d45/classmath_1_1float3x4.html">float3x4</a>        <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a23">operator-</a>( <span class="keyword">const</span> <a class="code" href="../../d0/d45/classmath_1_1float3x4.html">float3x4</a>&amp; other )<span class="keyword"> const                        </span>{<a class="code" href="../../d0/d45/classmath_1_1float3x4.html">float3x4</a> a; <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0 ; i &lt; ROWS ; ++i ) <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j = 0 ; j &lt; COLUMNS ; ++j ) a.m[i][j] = m[i][j] - other.m[i][j]; <span class="keywordflow">return</span> a;}
00113 
<a name="l00115"></a><a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a23">00115</a>     <a class="code" href="../../d0/d45/classmath_1_1float3x4.html">float3x4</a>        <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a23">operator-</a>()<span class="keyword"> const                                               </span>{<a class="code" href="../../d0/d45/classmath_1_1float3x4.html">float3x4</a> a; <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> i = 0 ; i &lt; ROWS ; ++i ) <span class="keywordflow">for</span> ( <span class="keywordtype">int</span> j = 0 ; j &lt; COLUMNS ; ++j ) a.m[i][j] = -m[i][j]; <span class="keywordflow">return</span> a;}
00116 
00117     <span class="comment">/* Matrix multiplication with 4-vector as 1-column matrix.*/</span>
00118     <a class="code" href="../../df/d1d/classmath_1_1float4.html">float4</a>          <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a17">operator*</a>( <span class="keyword">const</span> <a class="code" href="../../df/d1d/classmath_1_1float4.html">float4</a>&amp; v ) <span class="keyword">const</span>;
00119 
<a name="l00121"></a><a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a19">00121</a>     <span class="keyword">const</span> <span class="keywordtype">float</span>&amp;    <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a20">operator()</a>( <span class="keywordtype">int</span> row, <span class="keywordtype">int</span> column )<span class="keyword"> const                         </span>{assert(row&lt;<a class="code" href="../../d0/d45/classmath_1_1float3x4.html#w0w2">ROWS</a>&amp;&amp;column&lt;<a class="code" href="../../d0/d45/classmath_1_1float3x4.html#w0w1">COLUMNS</a>); <span class="keywordflow">return</span> m[row][column];}
00122 
<a name="l00124"></a><a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a9">00124</a>     <span class="keywordtype">float</span>           <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a9">get</a>( <span class="keywordtype">int</span> row, <span class="keywordtype">int</span> column )<span class="keyword"> const                                </span>{<span class="keywordflow">return</span> m[row][column];}
00125 
<a name="l00127"></a><a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a10">00127</a>     <a class="code" href="../../d5/d00/classmath_1_1float3.html">float3</a>          <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a10">getColumn</a>( <span class="keywordtype">int</span> i )<span class="keyword"> const                                        </span>{<span class="keywordflow">return</span> <a class="code" href="../../d5/d00/classmath_1_1float3.html">float3</a>( m[0][i], m[1][i], m[2][i] );}
00128 
<a name="l00130"></a><a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a12">00130</a>     <span class="keyword">const</span> <a class="code" href="../../df/d1d/classmath_1_1float4.html">float4</a>&amp;   <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a12">getRow</a>( <span class="keywordtype">int</span> i )<span class="keyword"> const                                           </span>{<span class="keywordflow">return</span> *reinterpret_cast&lt;const float4*&gt;(m[i]);}
00131 
00133     <a class="code" href="../../db/d00/classmath_1_1float3x3.html">float3x3</a>        <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a29">rotation</a>() const;
00134 
00136     <span class="keywordtype">void</span>            getRotation( <a class="code" href="../../db/d00/classmath_1_1float3x3.html">float3x3</a>* rot ) const;
00137 
<a name="l00139"></a><a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a42">00139</a>     <a class="code" href="../../d5/d00/classmath_1_1float3.html">float3</a>          translation()<span class="keyword"> const                                             </span>{<span class="keywordflow">return</span> <a class="code" href="../../d5/d00/classmath_1_1float3.html">float3</a>( m[0][3], m[1][3], m[2][3] );}
00140 
<a name="l00142"></a><a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a13">00142</a>     <span class="keywordtype">void</span>            <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a13">getTranslation</a>( <a class="code" href="../../d5/d00/classmath_1_1float3.html">math::float3</a>* t )<span class="keyword"> const                     </span>{t-&gt;<a class="code" href="../../d5/d00/classmath_1_1float3.html#o0">x</a>=m[0][3]; t-&gt;<a class="code" href="../../d5/d00/classmath_1_1float3.html#o1">y</a>=m[1][3]; t-&gt;<a class="code" href="../../d5/d00/classmath_1_1float3.html#o2">z</a>=m[2][3];}
00143 
00145     <a class="code" href="../../d5/d00/classmath_1_1float3.html">float3</a>          <a class="code" href="../../d0/d45/classmath_1_1float3x4.html#a30">scale</a>() const;
00146 
00148     <a class="code" href="../../d5/d00/classmath_1_1float3.html">float3</a>          transform( const <a class="code" href="../../d5/d00/classmath_1_1float3.html">float3</a>&amp; v ) const;
00149 
00151     <a class="code" href="../../df/d1d/classmath_1_1float4.html">float4</a>          transform( const <a class="code" href="../../df/d1d/classmath_1_1float4.html">float4</a>&amp; v ) const;
00152 
00154     <span class="keywordtype">void</span>            transform( const <a class="code" href="../../d5/d00/classmath_1_1float3.html">float3</a>&amp; v, <a class="code" href="../../d5/d00/classmath_1_1float3.html">float3</a>* v1 ) const;
00155 
00157     <span class="keywordtype">void</span>            transform( const <a class="code" href="../../df/d1d/classmath_1_1float4.html">float4</a>&amp; v, <a class="code" href="../../df/d1d/classmath_1_1float4.html">float4</a>* v1 ) const;
00158 
00160     <a class="code" href="../../d5/d00/classmath_1_1float3.html">float3</a>          rotate( const <a class="code" href="../../d5/d00/classmath_1_1float3.html">float3</a>&amp; v ) const;
00161 
00163     <span class="keywordtype">void</span>            rotate( const <a class="code" href="../../d5/d00/classmath_1_1float3.html">float3</a>&amp; v, <a class="code" href="../../d5/d00/classmath_1_1float3.html">float3</a>* v1 ) const;
00164 
00166     <span class="keywordtype">bool</span>            finite() const;
00167 
00169     <span class="keywordtype">float</span>           determinant3() const;
00170 
00172     <a class="code" href="../../d0/d45/classmath_1_1float3x4.html">float3x4</a>        inverse() const;
00173 
00174 private:
00175     <span class="keywordtype">float</span>           m[ROWS][COLUMNS] MATH_ALIGN_128;
00176 };
00177 
00178 
00179 } <span class="comment">// math</span>
00180 
00181 
00182 #endif <span class="comment">// _MATH_MATRIX3X4_H</span>
00183 
00184 <span class="comment">// Copyright (C) 2005 Jani Kajala. All rights reserved. Consult your license regarding permissions and restrictions.</span>
</pre></div><br><br><small>Copyright (C) 2004 Jani Kajala. All rights reserved. Consult your license regarding permissions and restrictions.</small><br><br></body></html>
